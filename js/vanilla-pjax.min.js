var vanillaPJAX=function(a){"use strict";var b=this;if(!("pushState"in history))return!1;b.isLoading=!1,b.currentLocation=document.location;var c={ajaxParam:"ajax",invalidUrls:[/wp-admin/],targetContainer:document.body,parentContainer:document,useLocalStorage:0,useSessionStorage:0,timeoutBeforeLoadContent:0,timeoutBeforeLoading:0,timeoutBeforeAJAX:0,urlExtensions:["jpeg","svg","jpg","png","gif","css","js"],callbackBeforeAJAX:function(a,b){},callbackAfterAJAX:function(a,b){},callbackTimeoutBeforeAJAX:function(a,b,c){return a},callbackTimeoutBeforeLoadContent:function(a,b,c){return a},callbackTimeoutBeforeLoad:function(a,b,c){return a},callbackAllowLoading:function(a,b){document.body.setAttribute("data-loading","")},callbackAfterLoad:function(a,b){},filterData:function(a,b){return a},filterContent:function(a){return a},isClickable:function(a){return!0}},d={},e=!1,f=!1,g=!1;return b.init=function(a){for(var h in c)d[h]=c[h];for(var i in a)d[i]=a[i];e=d.targetContainer,f=d.useLocalStorage,g=d.useSessionStorage,e&&(e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),b.setClickables(d.parentContainer),window.addEventListener("popstate",function(){b.goToUrl(document.location.href)},1))},b.setClickables=function(a){var c=a.getElementsByTagName("A");for(var d in c)"object"==typeof c[d]&&"1"!==c[d].getAttribute("data-ajax")&&b.checkClickable(c[d])&&(c[d].setAttribute("data-ajax","1"),c[d].addEventListener("click",b.clickAction,1),(g||f)&&c[d].addEventListener("mouseover",b.hoverAction,1))},b.checkClickable=function(a){if(!a.href||"#"==a.href.slice(-1)||"_blank"==a.getAttribute("target"))return!1;var c=a.pathname.split(".").pop().toLowerCase();if(b.inArray(c,d.urlExtensions))return!1;for(var e=0,f=d.invalidUrls.length;e<f;e++)if(a.href.match(d.invalidUrls[e]))return!1;if(a.getAttribute("download"))return!1;var g=a.getAttribute("hreflang"),h=document.documentElement.lang;return!(g&&g.indexOf(h)<0&&h.indexOf(g)<0)&&("0"!==a.getAttribute("data-ajax")&&(!!d.isClickable(a)&&document.location.host==a.host))},b.clickAction=function(a){a.metaKey||a.ctrlKey||a.altKey||a.shiftKey||(a.preventDefault(),b.goToUrl(this.href,this))},b.hoverAction=function(){var a=this.href;f&&localStorage.getItem(a)||g&&sessionStorage.getItem(a)||b.callUrl(a,function(c){b.cacheUrlContent(a,c)})},b.goToUrl=function(a,c){if(c=c||!1,a!=b.currentLocation&&"loading"!=document.body.getAttribute("data-loading")){d.callbackBeforeAJAX(a,c),document.body.setAttribute("data-loading","loading");var e=function(c){b.cacheUrlContent(a,c),d.callbackAfterAJAX(a,c),function(a,c,d){var e=a.callbackTimeoutBeforeLoadContent(a.timeoutBeforeLoadContent,c,d),f=a.callbackTimeoutBeforeLoad(a.timeoutBeforeLoading,c,d);setTimeout(function(){b.loadContent(c,d),setTimeout(function(){a.callbackAllowLoading(c,d),a.callbackAfterLoad(c,d),window.dispatchEvent(new Event("vanilla-pjax-ready"))},f)},e)}(d,a,c)};b.callUrl(a,e)}},b.callUrl=function(a,c){var e={};e[d.ajaxParam]=1,e=d.filterData(e,a);var h=d.callbackTimeoutBeforeAJAX(d.timeoutBeforeAJAX,a,e);setTimeout(function(){return f&&localStorage.getItem(a)?void c(localStorage.getItem(a)):g&&sessionStorage.getItem(a)?void c(sessionStorage.getItem(a)):void b.ajaxCall(a,c,e)},h)},b.ajaxCall=function(a,b,c){var d=new XMLHttpRequest,e=new URL(a);for(var f in c)e.searchParams.append(f,c[f]);a=e.href,d.open("GET",a,!0),d.onload=function(){d.status>=200&&d.status<400&&b(d.response)},d.send()},b.cacheUrlContent=function(a,b){f&&localStorage.setItem(a,b),g&&sessionStorage.setItem(a,b)},b.setUrl=function(a){var b=document.createElement("a");b.href=a,a!=window.location.href&&history.pushState({},document.title,a)},b.loadContent=function(a,c){c=d.filterContent(c),b.currentLocation=a,b.setUrl(a),e.innerHTML=c,b.setClickables(e)},b.init(a),b};vanillaPJAX.prototype.inArray=function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1};