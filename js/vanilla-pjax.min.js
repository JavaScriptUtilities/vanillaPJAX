var vanillaPJAX=function(a){"use strict";var b=this;if(!("pushState"in history))return!1;b.isLoading=!1,b.currentLocation=document.location,b.defaultSettings={ajaxParam:"ajax",invalidUrls:[/wp-admin/],targetContainer:document.body,parentContainer:document,useLocalStorage:0,useSessionStorage:0,timeoutBeforeLoadContent:0,timeoutBeforeLoading:0,timeoutBeforeAJAX:0,urlExtensions:["jpeg","svg","jpg","png","gif","css","js"],callbackBeforeAJAX:function(a,b){},callbackAfterAJAX:function(a,b){},callbackTimeoutBeforeAJAX:function(a,b,c){return a},callbackTimeoutBeforeLoadContent:function(a,b,c){return a},callbackTimeoutBeforeLoad:function(a,b,c){return a},callbackAllowLoading:function(a,b){document.body.setAttribute("data-loading","")},callbackAfterLoad:function(a,b){},filterContent:function(a){return a},isClickable:function(a){return!0}};var c={},d=!1;return b.init=function(a){for(var e in b.defaultSettings)c[e]=b.defaultSettings[e];for(var f in a)c[f]=a[f];d=c.targetContainer,d&&(b.setARIA(),b.setEvents())},b.setARIA=function(){var a=d;a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true")},b.setEvents=function(){b.setClickables(c.parentContainer),window.addEventListener("popstate",function(){b.goToUrl(document.location.href)},1)},b.setClickables=function(a){var d=a.getElementsByTagName("A");for(var e in d)"object"==typeof d[e]&&"1"!==d[e].getAttribute("data-ajax")&&b.checkClickable(d[e])&&(d[e].setAttribute("data-ajax","1"),d[e].addEventListener("click",b.clickAction,1),(c.useSessionStorage||c.useLocalStorage)&&d[e].addEventListener("mouseover",b.hoverAction,1))},b.checkClickable=function(a){if(!a.href||"#"==a.href.slice(-1)||"_blank"==a.getAttribute("target"))return!1;var d=a.pathname.split(".").pop().toLowerCase();if(b.inArray(d,c.urlExtensions))return!1;for(var e=0,f=c.invalidUrls.length;e<f;e++)if(a.href.match(c.invalidUrls[e]))return!1;if(a.getAttribute("download"))return!1;var g=a.getAttribute("hreflang"),h=document.documentElement.lang;return!(g&&g.indexOf(h)<0&&h.indexOf(g)<0)&&("0"!==a.getAttribute("data-ajax")&&(!!c.isClickable(a)&&document.location.host==a.host))},b.clickAction=function(a){a.metaKey||a.ctrlKey||a.altKey||a.shiftKey||(a.preventDefault(),b.goToUrl(this.href,this))},b.hoverAction=function(){var a=this.href;c.useLocalStorage&&localStorage.getItem(a)||c.useSessionStorage&&sessionStorage.getItem(a)||b.callUrl(a,function(c){b.cacheUrlContent(a,c)})},b.goToUrl=function(a,d){if(d=d||!1,a!=b.currentLocation&&"loading"!=document.body.getAttribute("data-loading")){c.callbackBeforeAJAX(a,d),document.body.setAttribute("data-loading","loading");var e=function(d){b.cacheUrlContent(a,d),c.callbackAfterAJAX(a,d),function(a,c,d){var e=a.callbackTimeoutBeforeLoadContent(a.timeoutBeforeLoadContent,c,d);setTimeout(function(){b.loadContent(c,d);var e=a.callbackTimeoutBeforeLoad(a.timeoutBeforeLoading,c,d);setTimeout(function(){a.callbackAllowLoading(c,d),a.callbackAfterLoad(c,d),b.triggerEvent("vanilla-pjax-ready")},e)},e)}(c,a,d)};b.callUrl(a,e)}},b.callUrl=function(a,d){var e={};e[c.ajaxParam]=1;var f=c.callbackTimeoutBeforeAJAX(c.timeoutBeforeAJAX,a,e);setTimeout(function(){return c.useLocalStorage&&localStorage.getItem(a)?void d(localStorage.getItem(a)):c.useSessionStorage&&sessionStorage.getItem(a)?void d(sessionStorage.getItem(a)):void b.ajaxCall(a,d,e)},f)},b.ajaxCall=function(a,b,c){var d=new XMLHttpRequest,e="";for(var f in c)e+=f+"="+c[f];d.open("GET",a+"?"+e,!0),d.onload=function(){d.status>=200&&d.status<400&&b(d.response)},d.send()},b.cacheUrlContent=function(a,b){c.useLocalStorage&&localStorage.setItem(a,b),c.useSessionStorage&&sessionStorage.setItem(a,b)},b.triggerEvent=function(a){var b;"function"==typeof Event?b=new Event(a):(b=document.createEvent("Event"),b.initEvent(a,!0,!0)),window.dispatchEvent(b)},b.setUrl=function(a){var b=document.createElement("a");b.href=a,a!=window.location.href&&history.pushState({},document.title,a)},b.loadContent=function(a,e){e=c.filterContent(e),b.currentLocation=a,b.setUrl(a),d.innerHTML=e,b.setClickables(d)},b.init(a),b};vanillaPJAX.prototype.inArray=function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1};