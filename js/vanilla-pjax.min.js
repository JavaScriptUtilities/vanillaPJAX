var vanillaPJAX=function(a){"use strict";var b=this;return"pushState"in history&&(b.isLoading=!1,b.currentLocation=document.location,b.defaultSettings={ajaxParam:"ajax",invalidUrls:[/wp-admin/],targetContainer:document.body,parentContainer:document,useLocalStorage:0,useSessionStorage:0,timeoutBeforeLoadContent:0,timeoutBeforeLoading:0,timeoutBeforeAJAX:0,urlExtensions:["jpeg","svg","jpg","png","gif","css","js"],callbackBeforeAJAX:function(a,b){},callbackAfterAJAX:function(a,b){},callbackTimeoutBeforeAJAX:function(a,b,c){return a},callbackTimeoutBeforeLoadContent:function(a,b,c){return a},callbackTimeoutBeforeLoad:function(a,b,c){return a},callbackAllowLoading:function(a,b){document.body.setAttribute("data-loading","")},callbackAfterLoad:function(a,b){},filterContent:function(a){return a},isClickable:function(a){return!0}},b.init=function(a){b.getSettings(a),b.settings.targetContainer&&(b.setARIA(),b.setEvents())},b.setARIA=function(){var a=b.settings.targetContainer;a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true")},b.setEvents=function(){b.setClickables(b.settings.parentContainer),window.addEventListener("popstate",function(){b.goToUrl(document.location.href)},1)},b.setClickables=function(a){var c=a.getElementsByTagName("A");for(var d in c)"object"==typeof c[d]&&"1"!==c[d].getAttribute("data-ajax")&&b.checkClickable(c[d])&&(c[d].setAttribute("data-ajax","1"),c[d].addEventListener("click",b.clickAction,1),(b.settings.useSessionStorage||b.settings.useLocalStorage)&&c[d].addEventListener("mouseover",b.hoverAction,1))},b.checkClickable=function(a){if(!a.href||"#"==a.href.slice(-1)||"_blank"==a.getAttribute("target"))return!1;var c=a.pathname.split(".").pop().toLowerCase();if(b.inArray(c,b.settings.urlExtensions))return!1;for(var d=0,e=b.settings.invalidUrls.length;d<e;d++)if(a.href.match(b.settings.invalidUrls[d]))return!1;if(a.getAttribute("download"))return!1;var f=a.getAttribute("hreflang"),g=document.documentElement.lang;return!(f&&!b.contains(f,g)&&!b.contains(g,f))&&("0"!==a.getAttribute("data-ajax")&&(!!b.settings.isClickable(a)&&document.location.host==a.host))},b.gotoHashBang=function(){var a=document.location.hash;"#!"==a.slice(0,2)&&b.goToUrl(a.slice(2))},b.clickAction=function(a){a.metaKey||a.ctrlKey||a.altKey||a.shiftKey||(a.preventDefault(),b.goToUrl(this.href,this))},b.hoverAction=function(a){var c=this.href;b.settings.useLocalStorage&&localStorage.getItem(c)||b.settings.useSessionStorage&&sessionStorage.getItem(c)||b.callUrl(c,function(a){b.cacheUrlContent(c,a)})},b.goToUrl=function(a,c){if(c=c||!1,a!=b.currentLocation&&"loading"!=document.body.getAttribute("data-loading")){b.settings.callbackBeforeAJAX(a,c),document.body.setAttribute("data-loading","loading");var d=function(c){b.cacheUrlContent(a,c),b.settings.callbackAfterAJAX(a,c),function(a,c,d){var e=a.callbackTimeoutBeforeLoadContent(a.timeoutBeforeLoadContent,c,d);setTimeout(function(){b.loadContent(c,d);var e=a.callbackTimeoutBeforeLoad(a.timeoutBeforeLoading,c,d);setTimeout(function(){a.callbackAllowLoading(c,d),a.callbackAfterLoad(c,d),b.triggerEvent("vanilla-pjax-ready")},e)},e)}(b.settings,a,c)};b.callUrl(a,d)}},b.callUrl=function(a,c){var d={};d[b.settings.ajaxParam]=1;var e=b.settings.callbackTimeoutBeforeAJAX(b.settings.timeoutBeforeAJAX,a,d);setTimeout(function(){return b.settings.useLocalStorage&&localStorage.getItem(a)?void c(localStorage.getItem(a)):b.settings.useSessionStorage&&sessionStorage.getItem(a)?void c(sessionStorage.getItem(a)):void b.ajaxCall(a,c,d)},e)},b.ajaxCall=function(a,b,c){var d=new XMLHttpRequest,e="";for(var f in c)e+=f+"="+c[f];d.open("GET",a+"?"+e,!0),d.onload=function(){this.status>=200&&this.status<400&&b(this.response)},d.send()},b.cacheUrlContent=function(a,c){b.settings.useLocalStorage&&localStorage.setItem(a,c),b.settings.useSessionStorage&&sessionStorage.setItem(a,c)},b.triggerEvent=function(a){var b;"function"==typeof Event?b=new Event(a):(b=document.createEvent("Event"),b.initEvent(a,!0,!0)),window.dispatchEvent(b)},b.setUrl=function(a){var b=document.createElement("a");b.href=a,a!=window.location.href&&history.pushState({},document.title,a)},b.loadContent=function(a,c){var d=b.settings,e=d.targetContainer;c=d.filterContent(c),b.currentLocation=a,b.setUrl(a),e.innerHTML=c,b.setClickables(e)},b.init(a),b)};vanillaPJAX.prototype.getSettings=function(a){this.settings={};for(var b in this.defaultSettings)this.settings[b]=this.defaultSettings[b];for(var c in a)this.settings[c]=a[c]},vanillaPJAX.prototype.inArray=function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1},vanillaPJAX.prototype.contains=function(a,b){return b.indexOf(a)!=-1};