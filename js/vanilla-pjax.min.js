var vanillaPJAX=function(a){"use strict";var b=this,c="pushState"in history;return b.isLoading=!1,b.currentLocation=document.location,b.defaultSettings={ajaxParam:"ajax",invalidUrls:[/wp-admin/],targetContainer:document.body,parentContainer:document,useLocalStorage:0,useSessionStorage:0,timeoutBeforeLoading:0,timeoutBeforeAJAX:0,urlExtensions:["jpeg","svg","jpg","png","gif","css","js"],callbackBeforeAJAX:function(a,b){},callbackAfterAJAX:function(a,b){},callbackAllowLoading:function(a,b){document.body.setAttribute("data-loading","")},callbackAfterLoad:function(a,b){},filterContent:function(a){return a},isClickable:function(a){return!0}},b.init=function(a){b.getSettings(a),b.settings.targetContainer&&(b.setARIA(),b.setEvents())},b.setARIA=function(){var a=b.settings.targetContainer;a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true")},b.setEvents=function(){b.setClickables(b.settings.parentContainer),b.addEvent(window,"popstate",function(){b.goToUrl(document.location.href)}),c||(window.domReady(b.gotoHashBang),b.addEvent(window,"hashchange",b.gotoHashBang))},b.setClickables=function(a){var c=a.getElementsByTagName("A");for(var d in c)"object"==typeof c[d]&&"1"!==c[d].getAttribute("data-ajax")&&b.checkClickable(c[d])&&(c[d].setAttribute("data-ajax","1"),b.addEvent(c[d],"click",b.clickAction))},b.checkClickable=function(a){if(!a.href||"#"==a.href.slice(-1)||"_blank"==a.getAttribute("target"))return!1;var c=a.pathname.split(".").pop().toLowerCase();if(b.inArray(c,b.settings.urlExtensions))return!1;for(var d=0,e=b.settings.invalidUrls.length;d<e;d++)if(a.href.match(b.settings.invalidUrls[d]))return!1;if(a.getAttribute("download"))return!1;var f=a.getAttribute("hreflang"),g=document.documentElement.lang;return!(f&&!b.contains(f,g)&&!b.contains(g,f))&&("0"!==a.getAttribute("data-ajax")&&(!!b.settings.isClickable(a)&&document.location.host==a.host))},b.gotoHashBang=function(){var a=document.location.hash;"#!"==a.slice(0,2)&&b.goToUrl(a.slice(2))},b.clickAction=function(a){a.metaKey||a.ctrlKey||a.altKey||a.shiftKey||(b.eventPreventDefault(a),b.goToUrl(this.href,this))},b.goToUrl=function(a,c){c=c||!1;var d=b.settings;if(a!=b.currentLocation&&"loading"!=document.body.getAttribute("data-loading")){b.settings.callbackBeforeAJAX(a,c),document.body.setAttribute("data-loading","loading");var e={};e[b.settings.ajaxParam]=1;var f=function(c){b.settings.useLocalStorage&&localStorage.setItem(a,c),b.settings.useSessionStorage&&sessionStorage.setItem(a,c),d.callbackAfterAJAX(a,c),b.loadContent(a,c),function(a,c,d){setTimeout(function(){a.callbackAllowLoading(c,d),a.callbackAfterLoad(c,d)},b.settings.timeoutBeforeLoading)}(d,a,c)};!function(a,c,d){setTimeout(function(){return b.settings.useLocalStorage&&localStorage.getItem(a)?void c(localStorage.getItem(a)):b.settings.useSessionStorage&&sessionStorage.getItem(a)?void c(sessionStorage.getItem(a)):void(window.jQuery?jQuery.ajax({url:a,success:c,data:d}):new jsuAJAX({url:a,callback:c,data:d}))},b.settings.timeoutBeforeAJAX)}(a,f,e)}},b.setUrl=function(a){var b=document.createElement("a");b.href=a,a!=window.location.href&&(c?history.pushState({},document.title,a):document.location.hash="!"+b.pathname)},b.loadContent=function(a,c){var d=b.settings,e=d.targetContainer;c=d.filterContent(c),b.currentLocation=a,b.setUrl(a),e.innerHTML=c,b.setClickables(e)},b.init(a),b};vanillaPJAX.prototype.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(b){return c.call(a,b)})},vanillaPJAX.prototype.getSettings=function(a){this.settings={};for(var b in this.defaultSettings)this.settings[b]=this.defaultSettings[b];for(var c in a)this.settings[c]=a[c]},vanillaPJAX.prototype.inArray=function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1},vanillaPJAX.prototype.contains=function(a,b){return b.indexOf(a)!=-1},vanillaPJAX.prototype.eventPreventDefault=function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1};